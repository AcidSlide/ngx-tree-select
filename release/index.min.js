!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@angular/common"),require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ngx-charts",["@angular/common","@angular/core","@angular/forms"],t):"object"==typeof exports?exports["ngx-charts"]=t(require("@angular/common"),require("@angular/core"),require("@angular/forms")):e["ngx-charts"]=t(e["@angular/common"],e["@angular/core"],e["@angular/forms"])}(this,function(e,t,n){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./src/index.ts")}({"./src/crazy-select.module.ts":function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),c=n(1),l=n("./src/select.component.ts"),s=n("./src/select-item.component.ts"),a=n("./src/off-click.directive.ts"),u=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:t}},e=i([o.NgModule({imports:[c.CommonModule],declarations:[l.TreeSelectComponent,s.TreeSelectItemComponent,a.OffClickDirective],exports:[l.TreeSelectComponent]}),r("design:paramtypes",[])],e)}();t.CrazySelectModule=u},"./src/index.ts":function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}i(n("./src/crazy-select.module.ts")),i(n("./src/select.component.ts"))},"./src/off-click.directive.ts":function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),c=function(){function e(){}return e.prototype.onClick=function(e){e.stopPropagation()},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){document.addEventListener("click",e.offClickkHandler)},0)},e.prototype.ngOnDestroy=function(){document.removeEventListener("click",this.offClickkHandler)},i([o.Input("cra-OffClick"),r("design:type",Object)],e.prototype,"offClickkHandler",void 0),i([o.HostListener("click",["$event"]),r("design:type",Function),r("design:paramtypes",[MouseEvent]),r("design:returntype",void 0)],e.prototype,"onClick",null),e=i([o.Directive({selector:"[cra-OffClick]"}),r("design:paramtypes",[])],e)}();t.OffClickDirective=c},"./src/select-item.component.ts":function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),c=n("./src/selectable-item.ts"),l=function(){function e(){}return Object.defineProperty(e.prototype,"haveChildren",{get:function(){return this.item&&this.item.children&&this.item.children.length>0},enumerable:!0,configurable:!0}),i([o.Input(),r("design:type",c.SelectableItem)],e.prototype,"item",void 0),e=i([o.Component({selector:"cra-select-item",template:'\n<div class="ui-select-choices-row"\n     [class.active]="item.selected"\n     (click)="select($event)">\n    <a href="javascript:void(0)" class="dropdown-item">\n        <div>{{item.text}}</div>\n    </a>\n</div>\n    '}),r("design:paramtypes",[])],e)}();t.TreeSelectItemComponent=l},"./src/select.component.ts":function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=n(0),c=n(2),l=n("./src/selectable-item.ts"),s=function(){};t.CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR={provide:c.NG_VALUE_ACCESSOR,useExisting:o.forwardRef(function(){return a}),multi:!0};var a=function(){function e(){this.multiple=!1,this._childrenField="",this._idField="",this._textField="",this._isOpen=!1,this._items=[],this.internalItems=[],this.selection=[],this.onTouchedCallback=s,this.onChangeCallback=s}return Object.defineProperty(e.prototype,"items",{set:function(e){this._items=e,this.changeInputParameters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idField",{set:function(e){this._idField=e,this.changeInputParameters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textField",{set:function(e){this._textField=e,this.changeInputParameters()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childrenField",{set:function(e){this._childrenField=e,this.changeInputParameters()},enumerable:!0,configurable:!0}),e.prototype.keyUp=function(e){},e.prototype.open=function(e){this._isOpen=!0},Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!0,configurable:!0}),e.prototype.modifySelection=function(){console.log("Start modifySelection"),this.selection=this.getSelectedItems(this.internalItems),console.log("End modifySelection")},e.prototype.getSelectedItems=function(e){var t=this,n=[];return e.forEach(function(e){e.children&&e.children.length>0?n=n.concat(t.getSelectedItems(e.children)):e.selected===!0&&n.push(e)}),n},Object.defineProperty(e.prototype,"isHierarchic",{get:function(){return this._childrenField&&this._childrenField.trim().length>0},enumerable:!0,configurable:!0}),e.prototype.changeInputParameters=function(){this.internalItems=[],this._idField&&0!==this._idField.trim().length&&this._textField&&0!==this._textField.trim().length&&this._items&&Array.isArray(this._items)&&(this.internalItems=this.transformItems(this._items),this.changeSelection())},e.prototype.transformItems=function(e){var t=this;return e&&Array.isArray(e)?e.map(function(e){var n=new l.SelectableItem(e[t._idField],e[t._textField],e);return t.isHierarchic&&(n.children=t.transformItems(e[t._childrenField])),n}):[]},e.prototype.changeSelection=function(){var e=this;try{if(!this._idField||0===this._idField.trim().length)return;var t=void 0;t=this._model?Array.isArray(this._model)?this._model:[this._model]:[];var n=[];t.forEach(function(t){n=n.concat(e.getItemForModel(t,e.internalItems))}),n.forEach(function(e){return e.selected=!0}),this.modifySelection()}catch(e){console.error("Error while changeSelection : ",e)}},e.prototype.getItemForModel=function(e,t){var n=this,i=[];return t.forEach(function(t){t.id===e[n._idField]&&i.push(t),n.isHierarchic&&t.children&&t.children.length>0&&(i=i.concat(n.getItemForModel(e,t.children)))}),i},e.prototype.onTouched=function(){this.onTouchedCallback()},e.prototype.writeValue=function(e){e!==this._model&&(this._model=e,this.changeSelection())},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},i([o.Input(),r("design:type",Boolean)],e.prototype,"multiple",void 0),i([o.Input(),r("design:type",Array),r("design:paramtypes",[Array])],e.prototype,"items",null),i([o.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"idField",null),i([o.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"textField",null),i([o.Input(),r("design:type",String),r("design:paramtypes",[String])],e.prototype,"childrenField",null),i([o.HostListener("blur"),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],e.prototype,"onTouched",null),e=i([o.Component({selector:"cra-select",template:'\n<div tabindex="0" (keyup)="keyUp($event)" [cra-OffClick]="clickedOutside" class="ui-select-container dropdown open">\n    <div [ngClass]="{\'ui-disabled\': disabled}"></div>\n    <!-- Control display -->\n    <div class="ui-select-match">\n        <span tabindex="-1"\n              class="btn btn-default btn-secondary form-control ui-select-toggle"\n              (click)="open($event)"\n              style="outline: 0;">\n            <span *ngIf="selection.length <= 0" class="ui-select-placeholder text-muted">{{placeholder}}</span>\n            <span *ngIf="!multiple && selection.length > 0" class="ui-select-match-text pull-left">{{selection[0].text}}</span>\n            <i class="dropdown-toggle pull-right"></i>\n            <i class="caret pull-right"></i>\n        </span>\n    </div>\n    <!-- options template -->\n    <ul *ngIf="isOpen && internalItems && internalItems.length > 0"\n        class="ui-select-choices dropdown-menu"\n        role="menu">\n        <li *ngFor="let o of internalItems" role="menuitem">\n            <cra-select-item [item]="o"></cra-select-item>\n\n        </li>\n    </ul>\n</div>\n',providers:[t.CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR]}),r("design:paramtypes",[])],e)}();t.TreeSelectComponent=a},"./src/selectable-item.ts":function(e,t){"use strict";var n=function(){function e(e,t,n){this.id=e,this.text=t,this.data=n,this._selected=!1}return Object.defineProperty(e.prototype,"selected",{get:function(){return this.children&&this.children.length>0?!!this.children.every(function(e){return e.selected})||!this.children.every(function(e){return e.selected===!1})&&null:this._selected},set:function(e){this.children&&this.children.length>0?null!==e&&this.children.forEach(function(t){return t.selected=e}):this._selected=!!e},enumerable:!0,configurable:!0}),e}();t.SelectableItem=n},0:function(e,n){e.exports=t},1:function(t,n){t.exports=e},2:function(e,t){e.exports=n}})});
//# sourceMappingURL=release/index.js.map